# ============================================================================
# Microsoft Agent Framework Settings
# ============================================================================

# Use Agent Framework implementation (true) or legacy implementation (false)
USE_AGENT_FRAMEWORK=true

# ============================================================================
# Azure OpenAI / AI Foundry
# ============================================================================

# Azure OpenAI Endpoint (required for Agent Framework)
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/

# Azure OpenAI API Key (optional if using Azure CLI authentication)
AZURE_OPENAI_API_KEY=your-api-key-here

# Chat Deployment Name (for Agent Framework ChatAgent)
AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=gpt-4o-mini

# Legacy deployment name (for backward compatibility)
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# API Version
AZURE_OPENAI_API_VERSION=2024-10-21

# Microsoft Entra ID (Azure AD)
ENTRA_TENANT_ID=your-tenant-id
APP_CLIENT_ID=your-app-client-id
APP_CLIENT_SECRET=your-app-client-secret

# Azure Service Bus (for job queue)
SERVICE_BUS_CONNECTION=Endpoint=sb://your-servicebus.servicebus.windows.net/;SharedAccessKeyName=...
SERVICE_BUS_QUEUE_NAME=agent-jobs

# Azure Storage
STORAGE_ACCOUNT_NAME=yourstorageaccount
STORAGE_ACCOUNT_KEY=your-storage-key
STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...

# Azure AI Search (for long-term memory)
AI_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
AI_SEARCH_API_KEY=your-search-api-key
AI_SEARCH_INDEX_NAME=agent-mem-long

# Azure Key Vault
KEYVAULT_URI=https://your-keyvault.vault.azure.net/

# Application Insights / OpenTelemetry
APPINSIGHTS_CONNECTION_STRING=InstrumentationKey=...;IngestionEndpoint=...
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Redis (optional, for short-term memory cache)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Bing Search API (for web search tool)
BING_SEARCH_API_KEY=your-bing-api-key
BING_SEARCH_ENDPOINT=https://api.bing.microsoft.com/v7.0/search

# Application Settings
ENVIRONMENT=dev
API_PORT=8080
WORKER_CONCURRENCY=4
LOG_LEVEL=INFO

# Security & Governance
DOMAIN_ALLOWLIST=*.gov,*.ac.jp,*.co.jp,*.microsoft.com
REQUIRE_CITATIONS=true
REQUIRE_HUMAN_APPROVAL=true
MAX_TOKENS_PER_JOB=100000
MAX_JOB_DURATION_MINUTES=60

# Memory Settings
SHORT_TERM_MEMORY_TTL_SECONDS=3600
LONG_TERM_MEMORY_ENABLED=true

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_TOKENS_PER_MINUTE=150000
